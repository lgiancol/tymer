<div>
    <h1>Tracker</h1>
    <button mat-button (click)="saveTimeEntry()">Save</button>
    <ng-container>
        <table mat-table [dataSource]="timeEntriesDataSource" class="mat-elevation-z8">

            <ng-container matColumnDef="project">
                <th mat-header-cell *matHeaderCellDef>Project</th>
                <td mat-cell *matCellDef="let displayableTimeEntry">
                    <mat-form-field appearance="standard">
                        <!-- <mat-select [formControl]="projectControl"> -->
                        <mat-select [(ngModel)]="displayableTimeEntry.project" placeholder="Project" [disabled]="displayableTimeEntry.project != null" (valueChange)="updateDisplayableTimeEntry(displayableTimeEntry, $event)">
                            <mat-option *ngFor="let project of projects" [value]="project.name">
                                {{project.name}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                </td>
                <td mat-footer-cell *matFooterCellDef></td>
            </ng-container>

            <ng-container matColumnDef="sun">
                <th mat-header-cell *matHeaderCellDef>Sunday</th>
                <td mat-cell *matCellDef="let displayableTimeEntry">
                    <mat-form-field appearance="standard">
                        <mat-label>Duration</mat-label>
                        <input matInput type="number" [(ngModel)]="displayableTimeEntry[0].duration">
                        <button matSuffix mat-icon-button (click)="openNotesDialog(displayableTimeEntry[0])" matTooltip="Add notes">
                            <mat-icon>note_add</mat-icon>
                        </button>
                    </mat-form-field>
                </td>
                <td mat-footer-cell *matFooterCellDef>{{getTotalHours(0)}}h</td>
            </ng-container>

            <ng-container matColumnDef="mon">
                <th mat-header-cell *matHeaderCellDef>Monday</th>
                <td mat-cell *matCellDef="let displayableTimeEntry">
                    <mat-form-field appearance="standard">
                        <mat-label>Duration</mat-label>
                        <input matInput type="number" [(ngModel)]="displayableTimeEntry[1].duration">
                        <button matSuffix mat-icon-button (click)="openNotesDialog(displayableTimeEntry[1])" matTooltip="Add notes">
                            <mat-icon>note_add</mat-icon>
                        </button>
                    </mat-form-field>
                </td>
                <td mat-footer-cell *matFooterCellDef>{{getTotalHours(1)}}h</td>
            </ng-container>

            <ng-container matColumnDef="tue">
                <th mat-header-cell *matHeaderCellDef>Tuesday</th>
                <td mat-cell *matCellDef="let displayableTimeEntry">
                    <mat-form-field appearance="standard">
                        <mat-label>Duration</mat-label>
                        <input matInput type="number" [(ngModel)]="displayableTimeEntry[2].duration">
                        <button matSuffix mat-icon-button (click)="openNotesDialog(displayableTimeEntry[2])" matTooltip="Add notes">
                            <mat-icon>note_add</mat-icon>
                        </button>
                    </mat-form-field>
                </td>
                <td mat-footer-cell *matFooterCellDef>{{getTotalHours(2)}}h</td>
            </ng-container>

            <ng-container matColumnDef="wed">
                <th mat-header-cell *matHeaderCellDef>Wednesday</th>
                <td mat-cell *matCellDef="let displayableTimeEntry">
                    <mat-form-field appearance="standard">
                        <mat-label>Duration</mat-label>
                        <input matInput type="number" [(ngModel)]="displayableTimeEntry[3].duration">
                        <button matSuffix mat-icon-button (click)="openNotesDialog(displayableTimeEntry[3])" matTooltip="Add notes">
                            <mat-icon>note_add</mat-icon>
                        </button>
                    </mat-form-field>
                </td>
                <td mat-footer-cell *matFooterCellDef>{{getTotalHours(3)}}h</td>
            </ng-container>

            <ng-container matColumnDef="thur">
                <th mat-header-cell *matHeaderCellDef>Thursday</th>
                <td mat-cell *matCellDef="let displayableTimeEntry">
                    <mat-form-field appearance="standard">
                        <mat-label>Duration</mat-label>
                        <input matInput type="number" [(ngModel)]="displayableTimeEntry[4].duration">
                        <button matSuffix mat-icon-button (click)="openNotesDialog(displayableTimeEntry[4])" matTooltip="Add notes">
                            <mat-icon>note_add</mat-icon>
                        </button>
                    </mat-form-field>
                </td>
                <td mat-footer-cell *matFooterCellDef>{{getTotalHours(4)}}h</td>
            </ng-container>

            <ng-container matColumnDef="fri">
                <th mat-header-cell *matHeaderCellDef>Friday</th>
                <td mat-cell *matCellDef="let displayableTimeEntry">
                    <mat-form-field appearance="standard">
                        <mat-label>Duration</mat-label>
                        <input matInput type="number" [(ngModel)]="displayableTimeEntry[5].duration">
                        <button matSuffix mat-icon-button (click)="openNotesDialog(displayableTimeEntry[5])" matTooltip="Add notes">
                            <mat-icon>note_add</mat-icon>
                        </button>
                    </mat-form-field>
                </td>
                <td mat-footer-cell *matFooterCellDef>{{getTotalHours(5)}}h</td>
            </ng-container>

            <ng-container matColumnDef="sat">
                <th mat-header-cell *matHeaderCellDef>Satuday</th>
                <td mat-cell *matCellDef="let displayableTimeEntry">
                    <mat-form-field appearance="standard">
                        <mat-label>Duration</mat-label>
                        <input matInput type="number" [(ngModel)]="displayableTimeEntry[6].duration">
                        <button matSuffix mat-icon-button (click)="openNotesDialog(displayableTimeEntry[6])" matTooltip="Add notes">
                            <mat-icon>note_add</mat-icon>
                        </button>
                    </mat-form-field>
                </td>
                <td mat-footer-cell *matFooterCellDef>{{getTotalHours(6)}}h</td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="tableColumns"></tr>
            <!-- <tr mat-header-row *matHeaderRowDef="tableColumnsInput" class="header-2"></tr> -->
            <tr mat-row *matRowDef="let row; columns: tableColumns;"></tr>
            <tr mat-footer-row *matFooterRowDef="tableColumns"></tr>
        </table>
    </ng-container>
</div>
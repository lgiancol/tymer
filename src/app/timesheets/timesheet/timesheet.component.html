<div *ngIf="timeSheet">
    <div class="mb-4">
        <h1>{{timeSheet.startDate | date:'MM/dd/yyyy'}} - {{timeSheet.endDate| date:'MM/dd/yyyy'}}</h1>
    </div>

    <mat-form-field appearance="standard">
        <mat-select [(ngModel)]="projectFilter" placeholder="Filter projects" (valueChange)="updateFilter($event)">
            <mat-option *ngFor="let project of projectNames" [value]="project">
                {{project}}
            </mat-option>
        </mat-select>
    </mat-form-field>

    <div class="mb-4">
        <table mat-table [dataSource]="timeSheetEntries" class="mat-elevation-z8">
            <ng-container matColumnDef="project">
                <th mat-header-cell *matHeaderCellDef>Project</th>
                <td mat-cell *matCellDef="let entry">{{entry.project}}</td>
            </ng-container>
    
            <ng-container matColumnDef="duration">
                <th mat-header-cell *matHeaderCellDef class="">Duration</th>
                <td mat-cell *matCellDef="let entry" class="p-2 text-center">{{entry.duration}}h</td>
            </ng-container>
    
            <ng-container matColumnDef="notes">
                <th mat-header-cell *matHeaderCellDef class="p-2">Notes</th>
                <td mat-cell *matCellDef="let entry" class="p-2">
                    <span [innerHtml]="entry.notes | respectNewLines"></span>
                </td>
            </ng-container>
    
            <ng-container matColumnDef="date">
                <th mat-header-cell *matHeaderCellDef class="p-2">Date</th>
                <td mat-cell *matCellDef="let entry" class="p-2">
                    {{entry.date | date:'MM/dd/yy'}}
                </td>
            </ng-container>
    
            <tr mat-header-row *matHeaderRowDef="columnNames"></tr>
            <tr mat-row *matRowDef="let row; columns: columnNames;"></tr>
        </table>
    </div>

    <div>
        <h2>For Pollen</h2>
        <div>
            <h3>{{timeSheet.startDate | date:'MM/dd/yy'}} - {{timeSheet.endDate | date:'MM/dd/yy'}}</h3>
            <div *ngFor="let entry of exportedEntries">
                <span>{{entry.date | date:'MM/dd/yy'}}: {{entry.duration}}h</span>
            </div>
            <span>Total: {{totalDuration}}h</span>
        </div>
    </div>

</div>